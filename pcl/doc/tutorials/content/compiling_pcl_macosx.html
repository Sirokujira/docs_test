

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Compiling PCL and its dependencies from MacPorts and source on Mac OS X &mdash; pcl 1.9.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="../../../../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/modified_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> pcl
          

          
          </a>

          
            
            
              <div class="version">
                1.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Table of contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#advanced-usage">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#features">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#filtering">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#i-o">I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#keypoints">Keypoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#kdtree">KdTree</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#octree">Octree</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#range-images">Range Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#recognition">Recognition</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#registration">Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#sample-consensus">Sample Consensus</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#segmentation">Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#surface">Surface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#visualization">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#applications">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#gpu">GPU</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Topics:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/content/index.html">Compiling PCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/content/index.html#developing-pcl-code">Developing PCL code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/content/index.html#committing-changes-to-the-git-master">Committing changes to the git master</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/content/index.html#improving-the-pcl-documentation">Improving the PCL documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/content/index.html#how-to-build-a-minimal-example">How to build a minimal example</a></li>
</ul>
<p class="caption"><span class="caption-text">API documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/index.html">Library API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">pcl</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
      <li>Compiling PCL and its dependencies from MacPorts and source on Mac OS X</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/pcl/doc/tutorials/content/compiling_pcl_macosx.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compiling-pcl-and-its-dependencies-from-macports-and-source-on-mac-os-x">
<span id="compiling-pcl-macosx"></span><h1>Compiling PCL and its dependencies from MacPorts and source on Mac OS X<a class="headerlink" href="#compiling-pcl-and-its-dependencies-from-macports-and-source-on-mac-os-x" title="Permalink to this headline">¶</a></h1>
<p>This tutorial explains how to build the Point Cloud Library
<strong>from MacPorts and source</strong> on Mac OS X platforms, and tries to guide you
through the download and building <em>of all the required dependencies</em>.</p>
<img alt="Mac OS X logo" class="align-right" src="../../../../_images/macosx_logo.png" />
</div>
<div class="section" id="prerequisites">
<span id="macosx-prerequisites"></span><h1>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h1>
<p>Before getting started download and install the following prerequisites for
Mac OS X:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>XCode</strong> (<a class="reference external" href="https://developer.apple.com/xcode/">https://developer.apple.com/xcode/</a>)</dt><dd><p>Apple’s powerful integrated development environment</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>MacPorts</strong> (<a class="reference external" href="http://www.macports.org">http://www.macports.org</a>)</dt><dd><p>An open-source community initiative to design an easy-to-use
system for compiling, installing, and upgrading  either command-line, X11 or
Aqua based open-source software on the Mac OS X operating system.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="pcl-dependencies">
<span id="macosx-dependencies"></span><h1>PCL Dependencies<a class="headerlink" href="#pcl-dependencies" title="Permalink to this headline">¶</a></h1>
<p>In order to compile every component of the PCL library we need to download and
compile a series of 3rd party library dependencies.  We’ll cover the building,
compiling and installing of everything in the following sections:</p>
<div class="section" id="required">
<h2>Required<a class="headerlink" href="#required" title="Permalink to this headline">¶</a></h2>
<p>The following libraries are <strong>Required</strong> to build PCL.</p>
<ul>
<li><dl>
<dt><strong>CMake</strong> version &gt;= 3.1.0 (<a class="reference external" href="http://www.cmake.org">http://www.cmake.org</a>)</dt><dd><p>Cross-platform, open-source build system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though not a dependency per se, the PCL community relies heavily on CMake
for the libraries build process.</p>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Boost</strong> version &gt;= 1.46.1 (<a class="reference external" href="http://www.boost.org/">http://www.boost.org/</a>)</dt><dd><p>Provides free peer-reviewed portable C++ source libraries.  Used for shared
pointers, and threading.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Eigen</strong> version &gt;= 3.0.0 (<a class="reference external" href="http://eigen.tuxfamily.org/">http://eigen.tuxfamily.org/</a>)</dt><dd><p>Unified matrix library.  Used as the matrix backend for SSE optimized math.</p>
</dd>
</dl>
</li>
<li><p><strong>FLANN</strong> version &gt;= 1.6.8
(<a class="reference external" href="http://www.cs.ubc.ca/research/flann/">http://www.cs.ubc.ca/research/flann/</a>)
Library for performing fast approximate nearest neighbor searches in high
dimensional spaces.  Used in <cite>kdtree</cite> for fast approximate nearest neighbors
search.</p></li>
<li><dl class="simple">
<dt><strong>Visualization ToolKit (VTK)</strong> version &gt;= 5.6.1 (<a class="reference external" href="http://www.vtk.org/">http://www.vtk.org/</a>)</dt><dd><p>Software system for 3D computer graphics, image processing and visualization.
Used in <cite>visualization</cite> for 3D point cloud rendering and visualization.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="optional">
<h2>Optional<a class="headerlink" href="#optional" title="Permalink to this headline">¶</a></h2>
<p>The following libraries are <strong>Optional</strong> and provide extended functionality
within PCL, ie Kinect support.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Qhull</strong> version &gt;= 2011.1 (<a class="reference external" href="http://www.qhull.org/">http://www.qhull.org/</a>)</dt><dd><p>computes the convex hull, Delaunay triangulation, Voronoi diagram, halfspace
intersection about a point, furthest-site Delaunay triangulation, and
furthest-site Voronoi diagram.  Used for convex/concave hull decompositions
in <cite>surface</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>libusb</strong> (<a class="reference external" href="http://www.libusb.org/">http://www.libusb.org/</a>)</dt><dd><p>A library that gives user level applications uniform access to USB devices
across many different operating systems.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>PCL Patched OpenNI/Sensor</strong> (<a class="reference external" href="http://www.openni.org/">http://www.openni.org/</a>)</dt><dd><p>The OpenNI Framework provides the interface for physical devices and for
middleware components. Used to grab point clouds from OpenNI compliant
devices.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="advanced-developers">
<h2>Advanced (Developers)<a class="headerlink" href="#advanced-developers" title="Permalink to this headline">¶</a></h2>
<p>The following libraries are <strong>Advanced</strong> and provide additional functionality
for PCL developers:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>googletest</strong> version &gt;= 1.6.0 (<a class="reference external" href="http://code.google.com/p/googletest/">http://code.google.com/p/googletest/</a>)</dt><dd><p>Google’s framework for writing C++ tests on a variety of platforms. Used
to build test units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Doxygen</strong> (<a class="reference external" href="http://www.doxygen.org">http://www.doxygen.org</a>)</dt><dd><p>A documentation system for C++, C, Java, Objective-C, Python, IDL (Corba and
Microsoft flavors), Fortran, VHDL, PHP, C#, and to some extent D.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Sphinx</strong> (<a class="reference external" href="http://sphinx-doc.org/">http://sphinx-doc.org/</a>)</dt><dd><p>A tool that makes it easy to create intelligent and beautiful
documentation.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="building-compiling-and-installing-pcl-dependencies">
<span id="macosx-building-prerequisites"></span><h1>Building, Compiling and Installing PCL Dependencies<a class="headerlink" href="#building-compiling-and-installing-pcl-dependencies" title="Permalink to this headline">¶</a></h1>
<p>By now you should have downloaded and installed the latest versions of XCode and
MacPorts under the <a class="reference internal" href="#macosx-prerequisites"><span class="std std-ref">Prerequisites</span></a> section.  We’ll be installing most
dependencies available via MacPorts and the rest will be built from source.</p>
<div class="section" id="install-cmake">
<h2>Install CMake<a class="headerlink" href="#install-cmake" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install cmake
</pre></div>
</div>
</div>
<div class="section" id="install-boost">
<h2>Install Boost<a class="headerlink" href="#install-boost" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install boost
</pre></div>
</div>
</div>
<div class="section" id="install-eigen">
<h2>Install Eigen<a class="headerlink" href="#install-eigen" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install eigen3
</pre></div>
</div>
</div>
<div class="section" id="install-flann">
<h2>Install FLANN<a class="headerlink" href="#install-flann" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install flann
</pre></div>
</div>
</div>
<div class="section" id="install-vtk">
<h2>Install VTK<a class="headerlink" href="#install-vtk" title="Permalink to this headline">¶</a></h2>
<p>To install via MacPorts:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install vtk5 +qt4_mac
</pre></div>
</div>
<p>To install from source download the source from
<a class="reference external" href="http://www.vtk.org/VTK/resources/software.html">http://www.vtk.org/VTK/resources/software.html</a></p>
<p>Follow the README.html for compiling on UNIX / Cygwin / Mac OSX:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ cd VTK
$ mkdir VTK-build
$ cd VTK-build
$ ccmake ../VTK
</pre></div>
</div>
<dl>
<dt>Within the CMake configuration:</dt><dd><p>Press [c] for initial configuration</p>
<p>Press [t] to get into advanced mode and change the following:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="nl">VTK_USE_CARBON</span><span class="p">:</span><span class="n">OFF</span>
<span class="nl">VTK_USE_COCOA</span><span class="p">:</span><span class="n">ON</span>
<span class="nl">VTK_USE_X</span><span class="p">:</span><span class="n">OFF</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>VTK <em>must</em> be built with Cocoa support and <em>must</em> be installed,
in order for the visualization module to be able to compile. If you do
not require visualisation, you may omit this step.</p>
</div>
<p>Press [g] to generate the make files.</p>
<p>Press [q] to quit.</p>
</dd>
</dl>
<p>Then run:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ make &amp;&amp; make install
</pre></div>
</div>
</div>
<div class="section" id="install-qhull">
<h2>Install Qhull<a class="headerlink" href="#install-qhull" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install qhull
</pre></div>
</div>
</div>
<div class="section" id="install-libusb">
<h2>Install libusb<a class="headerlink" href="#install-libusb" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install libusb-devel +universal
</pre></div>
</div>
</div>
<div class="section" id="install-patched-openni-and-sensor">
<h2>Install Patched OpenNI and Sensor<a class="headerlink" href="#install-patched-openni-and-sensor" title="Permalink to this headline">¶</a></h2>
<p>Download the patched versions of OpenNI and Sensor from the PCL downloads page
<a class="reference external" href="http://pointclouds.org/downloads/macosx.html">http://pointclouds.org/downloads/macosx.html</a></p>
<p>Extract, build, fix permissions and install OpenNI:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ unzip openni_osx.zip -d openni_osx
$ cd openni_osx/Redist
$ chmod -R a+r Bin Include Lib
$ chmod -R a+x Bin Lib
$ chmod a+x Include/MacOSX Include/Linux-*
$ sudo ./install
</pre></div>
</div>
<p>In addition the following primesense xml config found within the patched OpenNI
download needs its permissions fixed and copied to the correct location to for
the Kinect to work on Mac OS X:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ chmod a+r openni_osx/Redist/Samples/Config/SamplesConfig.xml
$ sudo cp openni_osx/Redist/Samples/Config/SamplesConfig.xml /etc/primesense/
</pre></div>
</div>
<p>Extract, build, fix permissions and install Sensor:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ unzip ps_engine_osx.zip -d ps_engine_osx
$ cd ps_engine_osx/Redist
$ chmod -R a+r Bin Lib Config Install
$ chmod -R a+x Bin Lib
$ sudo ./install
</pre></div>
</div>
</div>
</div>
<div class="section" id="building-pcl">
<span id="macosx-building-pcl"></span><h1>Building PCL<a class="headerlink" href="#building-pcl" title="Permalink to this headline">¶</a></h1>
<p>At this point you should have everything needed installed to build PCL with
almost no additional configuration.</p>
<p>Checkout the PCL source from the Github:</p>
<blockquote>
<div><p>$ git clone <a class="reference external" href="https://github.com/PointCloudLibrary/pcl">https://github.com/PointCloudLibrary/pcl</a>
$ cd pcl</p>
</div></blockquote>
<p>Create the build directories, configure CMake, build and install:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ mkdir build
$ cd build
$ cmake ..
$ make
$ sudo make install
</pre></div>
</div>
<p>The customization of the build process is out of the scope of this tutorial and
is covered in greater detail in the <a class="reference internal" href="building_pcl.html#building-pcl"><span class="std std-ref">Customizing the PCL build process</span></a> tutorial.</p>
</div>
<div class="section" id="using-pcl">
<h1>Using PCL<a class="headerlink" href="#using-pcl" title="Permalink to this headline">¶</a></h1>
<p>We finally managed to compile the Point Cloud Library (PCL) for Mac OS X. You
can start using them in your project by following the <a class="reference internal" href="using_pcl_pcl_config.html#using-pcl-pcl-config"><span class="std std-ref">Using PCL in your own project</span></a> tutorial.</p>
</div>
<div class="section" id="macosx-advanced">
<span id="id1"></span><h1>Advanced (Developers)<a class="headerlink" href="#macosx-advanced" title="Permalink to this headline">¶</a></h1>
<div class="section" id="testing-googletest">
<h2>Testing (googletest)<a class="headerlink" href="#testing-googletest" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="api-documentation-doxygen">
<h2>API Documentation (Doxygen)<a class="headerlink" href="#api-documentation-doxygen" title="Permalink to this headline">¶</a></h2>
<p>Install Doxygen via MacPorts:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install doxygen
</pre></div>
</div>
<p>Or install the Prebuilt binary for Mac OS X
(<a class="reference external" href="http://www.stack.nl/~dimitri/doxygen/download.html#latestsrc">http://www.stack.nl/~dimitri/doxygen/download.html#latestsrc</a>)</p>
<p>After installed you can build the documentation:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ make doc
</pre></div>
</div>
</div>
<div class="section" id="tutorials-sphinx">
<h2>Tutorials (Sphinx)<a class="headerlink" href="#tutorials-sphinx" title="Permalink to this headline">¶</a></h2>
<p>In addition to the API documentation there is also tutorial documentation built
using Sphinx.  The easiest way to get this installed is using pythons
<cite>easy_install</cite>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ easy_install -U Sphinx
</pre></div>
</div>
<p>The Sphinx documentation also requires the third party contrib extension
<cite>sphinxcontrib-doxylink</cite> (<a class="reference external" href="https://pypi.python.org/pypi/sphinxcontrib-doxylink">https://pypi.python.org/pypi/sphinxcontrib-doxylink</a>)
to reference the Doxygen built documentation.</p>
<p>To install from source you’ll also need Mercurial:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ sudo port install mercurial
$ hg clone http://bitbucket.org/birkenfeld/sphinx-contrib
$ cd sphinx-contrib/doxylink
$ python setup.py install
</pre></div>
</div>
<p>After installed you can build the tutorials:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>$ make Tutorials
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sphinx can be installed via MacPorts but is a bit of a pain getting all the
PYTHON_PATH’s in order</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, open perception foundation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>